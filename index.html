<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TrustEye - AI Threat Detection</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.min.css" rel="stylesheet">
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #34495e;
            --accent-color: #7dd3fc;
            --interactive-color: #0ea5e9;
            --success-color: #10b981;
            --warning-color: #f59e0b;
            --danger-color: #dc2626;
            --bg-light: #ffffff;
            --bg-dark: #1a1a1a;
            --text-light: #333333;
            --text-dark: #ffffff;
        }

        [data-theme="dark"] {
            --primary-color: #1a1a1a;
            --secondary-color: #2d2d2d;
            --bg-light: #2d2d2d;
            --text-light: #ffffff;
        }

        * {
            transition: all 0.3s ease;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 50%, #1a252f 100%);
            min-height: 100vh;
            color: var(--text-light);
        }

        .navbar {
            background: rgba(44, 62, 80, 0.95) !important;
            backdrop-filter: blur(10px);
            border-bottom: 2px solid var(--accent-color);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .navbar-brand {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--accent-color) !important;
        }

        .nav-link {
            color: white !important;
            font-weight: 500;
            margin: 0 10px;
            transition: all 0.3s ease;
        }

        .nav-link:hover, .nav-link.active {
            color: var(--accent-color) !important;
            transform: translateY(-1px);
        }

        .architecture-diagram .arch-component {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid var(--accent-color);
            border-radius: 15px;
            padding: 20px;
            margin: 10px 0;
            transition: all 0.3s ease;
        }

        .architecture-diagram .arch-component:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(125, 211, 252, 0.3);
            border-color: var(--interactive-color);
        }

        .contact-item {
            display: flex;
            align-items: flex-start;
        }

        .contact-item i {
            margin-top: 2px;
        }

        .team-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: rgba(125, 211, 252, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto;
        }

        .demo-btn {
            background: linear-gradient(45deg, var(--accent-color), var(--interactive-color)) !important;
            border: none !important;
            border-radius: 25px !important;
            padding: 8px 20px !important;
            font-weight: 600 !important;
            text-transform: uppercase !important;
            letter-spacing: 0.5px !important;
            box-shadow: 0 4px 15px rgba(125, 211, 252, 0.3) !important;
            animation: pulse 2s infinite !important;
        }

        .demo-btn:hover {
            transform: translateY(-2px) !important;
            box-shadow: 0 6px 20px rgba(125, 211, 252, 0.4) !important;
            animation: none !important;
        }

        @keyframes pulse {
            0% { box-shadow: 0 4px 15px rgba(125, 211, 252, 0.3); }
            50% { box-shadow: 0 4px 20px rgba(125, 211, 252, 0.6); }
            100% { box-shadow: 0 4px 15px rgba(125, 211, 252, 0.3); }
        }

        .theme-toggle {
            background: none;
            border: 2px solid var(--accent-color);
            color: var(--accent-color);
            border-radius: 50px;
            padding: 8px 16px;
            margin-left: 10px;
            cursor: pointer;
        }

        .theme-toggle:hover {
            background: var(--accent-color);
            color: white;
        }

        .lang-toggle {
            background: none;
            border: 2px solid var(--interactive-color);
            color: var(--interactive-color);
            border-radius: 50px;
            padding: 8px 16px;
            margin-left: 10px;
            cursor: pointer;
        }

        .lang-toggle:hover {
            background: var(--interactive-color);
            color: white;
        }

        .hero-section {
            background: rgba(44, 62, 80, 0.2);
            backdrop-filter: blur(10px);
            color: white;
            padding: 4rem 0;
            text-align: center;
            border-bottom: 2px solid var(--accent-color);
        }

        .hero-title {
            font-size: clamp(2rem, 5vw, 3.5rem);
            font-weight: bold;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, var(--accent-color), var(--interactive-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .main-card {
            background: var(--bg-light);
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            margin-top: -50px;
            position: relative;
            z-index: 10;
            color: var(--text-light);
        }

        .page-section {
            display: none;
        }

        .page-section.active {
            display: block;
        }

        .upload-area {
            border: 2px dashed var(--interactive-color);
            border-radius: 10px;
            padding: 2rem;
            text-align: center;
            background: rgba(240, 249, 255, 0.5);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .upload-area:hover {
            border-color: #0284c7;
            background: rgba(240, 249, 255, 0.8);
            transform: translateY(-2px);
        }

        .sample-inputs {
            background: rgba(125, 211, 252, 0.1);
            border-radius: 10px;
            padding: 1rem;
            margin: 1rem 0;
        }

        .sample-btn {
            background: var(--accent-color);
            color: white;
            border: none;
            border-radius: 20px;
            padding: 0.5rem 1rem;
            margin: 0.25rem;
            cursor: pointer;
            font-size: 0.9rem;
        }

        .sample-btn:hover {
            background: var(--interactive-color);
            transform: translateY(-1px);
        }

        .loading-spinner {
            display: none;
            text-align: center;
            padding: 2rem;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid var(--interactive-color);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .error-message {
            background: #fee2e2;
            color: var(--danger-color);
            border: 1px solid #fecaca;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            display: none;
        }

        .success-message {
            background: #d1fae5;
            color: var(--success-color);
            border: 1px solid #a7f3d0;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            display: none;
        }

        .threat-tag {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
            margin: 0.25rem;
        }

        .tag-low { background: #d1fae5; color: var(--success-color); }
        .tag-medium { background: #fef3c7; color: var(--warning-color); }
        .tag-high { background: #fee2e2; color: var(--danger-color); }

        .stats-card {
            background: var(--bg-light);
            border-radius: 10px;
            padding: 1.5rem;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            margin-bottom: 1rem;
            transition: transform 0.3s ease;
            color: var(--text-light);
        }

        .stats-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: var(--interactive-color);
        }

        .chart-container {
            position: relative;
            height: 300px;
            margin: 2rem 0;
        }

        @media (max-width: 768px) {
            .hero-section {
                padding: 2rem 0;
            }
            
            .main-card {
                margin: 1rem;
                border-radius: 15px;
            }
            
            .stats-card {
                margin-bottom: 1rem;
            }
            
            .chart-container {
                height: 250px;
            }
        }

        @media (max-width: 576px) {
            .navbar-brand {
                font-size: 1.4rem;
            }
            
            .nav-link {
                margin: 0 5px;
                font-size: 0.9rem;
            }
            
            .theme-toggle, .lang-toggle {
                padding: 6px 12px;
                font-size: 0.8rem;
            }
        }

        /* Accessibility improvements */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        .focus-visible:focus {
            outline: 2px solid var(--accent-color);
            outline-offset: 2px;
        }

        /* High contrast mode */
        @media (prefers-contrast: high) {
            .main-card {
                border: 2px solid var(--text-light);
            }
            
            .upload-area {
                border-width: 3px;
            }
        }

        /* Enhanced Tab Styling */
        .nav-tabs {
            border-bottom: none;
            margin-bottom: 2rem;
        }
        
        .nav-tabs .nav-link {
            color: white;
            border: none;
            border-bottom: 3px solid transparent;
            background: linear-gradient(135deg, var(--accent-color), var(--interactive-color));
            margin: 0 5px;
            border-radius: 10px 10px 0 0;
            font-weight: 600;
            padding: 12px 20px;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(125, 211, 252, 0.3);
        }
        
        .nav-tabs .nav-link:hover {
            background: linear-gradient(135deg, var(--interactive-color), var(--accent-color));
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(125, 211, 252, 0.4);
            color: white;
        }
        
        .nav-tabs .nav-link.active {
            color: white;
            background: linear-gradient(135deg, var(--interactive-color), var(--accent-color));
            border-bottom-color: var(--interactive-color);
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(14, 165, 233, 0.5);
        }
        
        .nav-tabs .nav-link i {
            margin-right: 8px;
            font-size: 1.1em;
        }

        /* Reduced motion */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg">
        <div class="container">
            <a class="navbar-brand" href="#" data-translate="brand">
                <i class="fas fa-shield-alt me-2"></i>TrustEye
            </a>
            
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" 
                    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link active" href="#" onclick="showSection('scanner')" data-translate="scanner">
                            <i class="fas fa-search me-1"></i>Scanner
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="showSection('dashboard')" data-translate="dashboard">
                            <i class="fas fa-chart-bar me-1"></i>Dashboard
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="showSection('history')" data-translate="history">
                            <i class="fas fa-history me-1"></i>History
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="showSection('whitelist')" data-translate="whitelist">
                            <i class="fas fa-shield-alt me-1"></i>Whitelist
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="showSection('feedback')" data-translate="feedback">
                            <i class="fas fa-comments me-1"></i>Feedback
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="showSection('about')" data-translate="about">
                            <i class="fas fa-info-circle me-1"></i>About
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="showSection('contact')" data-translate="contact">
                            <i class="fas fa-envelope me-1"></i>Contact
                        </a>
                    </li>
                </ul>
                
                <div class="d-flex align-items-center">
                    <button class="btn btn-primary demo-btn me-3" onclick="showSection('scanner')" data-translate="try-demo">
                        <i class="fas fa-play me-1"></i>Try Demo
                    </button>
                    <button class="theme-toggle" onclick="toggleTheme()" aria-label="Toggle dark mode">
                        <i class="fas fa-moon" id="theme-icon"></i>
                    </button>
                    <button class="lang-toggle" onclick="toggleLanguage()" data-translate="lang-toggle">
                        EN | हिं
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="container">
            <h1 class="hero-title" data-translate="hero-title">AI-Powered Threat Detection</h1>
            <p class="lead" data-translate="hero-subtitle">Protect your digital assets with advanced cybersecurity intelligence</p>
        </div>
    </section>

    <!-- Main Content -->
    <div class="container">
        <div class="main-card p-4">
            <!-- Scanner Section -->
            <div id="scanner" class="page-section active">
                <h2 class="mb-4" data-translate="scanner-title">
                    <i class="fas fa-shield-alt text-primary me-2"></i>Threat Scanner
                </h2>
                
                <!-- Sample Inputs -->
                <div class="sample-inputs">
                    <h5 data-translate="sample-title">
                        <i class="fas fa-flask me-2"></i>Try Sample Inputs
                    </h5>
                    <p class="text-muted mb-3" data-translate="sample-desc">Click any button below to test with sample data</p>
                    
                    <div class="row">
                        <div class="col-md-4">
                            <h6 data-translate="sample-urls">Sample URLs:</h6>
                            <button class="sample-btn" onclick="useSample('url', 'https://secure-bank-login.com/verify')" 
                                    data-translate="sample-phishing">Phishing URL</button>
                            <button class="sample-btn" onclick="useSample('url', 'https://google.com')" 
                                    data-translate="sample-safe">Safe URL</button>
                        </div>
                        <div class="col-md-4">
                            <h6 data-translate="sample-emails">Sample Emails:</h6>
                            <button class="sample-btn" onclick="useSample('text', 'URGENT: Your account will be suspended! Click here immediately to verify: http://fake-bank.com')" 
                                    data-translate="sample-spam">Spam Email</button>
                            <button class="sample-btn" onclick="useSample('text', 'Hello, this is a normal business email regarding our meeting tomorrow.')" 
                                    data-translate="sample-normal">Normal Email</button>
                        </div>
                        <div class="col-md-4">
                            <h6 data-translate="sample-files">Sample Files:</h6>
                            <button class="sample-btn" onclick="useSample('file', 'malware.exe')" 
                                    data-translate="sample-malware">Malware File</button>
                            <button class="sample-btn" onclick="useSample('file', 'document.pdf')" 
                                    data-translate="sample-clean">Clean File</button>
                        </div>
                    </div>
                </div>

                <!-- Scan Tabs -->
                <ul class="nav nav-tabs mb-4" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active" id="url-tab" data-bs-toggle="tab" data-bs-target="#url-scan" 
                                type="button" role="tab" aria-controls="url-scan" aria-selected="true" data-translate="url-scan">
                            <i class="fas fa-link me-2"></i>URL Scan
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="text-tab" data-bs-toggle="tab" data-bs-target="#text-scan" 
                                type="button" role="tab" aria-controls="text-scan" aria-selected="false" data-translate="text-scan">
                            <i class="fas fa-file-text me-2"></i>Text Scan
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="file-tab" data-bs-toggle="tab" data-bs-target="#file-scan" 
                                type="button" role="tab" aria-controls="file-scan" aria-selected="false" data-translate="file-scan">
                            <i class="fas fa-file me-2"></i>File Scan
                        </button>
                    </li>
                </ul>

                <div class="tab-content">
                    <!-- URL Scan Tab -->
                    <div class="tab-pane fade show active" id="url-scan" role="tabpanel" aria-labelledby="url-tab">
                        <form onsubmit="scanURL(event)">
                            <div class="mb-3">
                                <label for="url-input" class="form-label" data-translate="url-label">Enter URL to scan:</label>
                                <input type="url" class="form-control" id="url-input" 
                                       placeholder="https://example.com" required
                                       aria-describedby="url-help">
                                <div id="url-help" class="form-text" data-translate="url-help">
                                    Enter a complete URL including http:// or https://
                                </div>
                            </div>
                            <button type="submit" class="btn btn-primary" data-translate="scan-btn">
                                <i class="fas fa-search me-2"></i>Scan URL
                            </button>
                        </form>
                    </div>

                    <!-- Text Scan Tab -->
                    <div class="tab-pane fade" id="text-scan" role="tabpanel" aria-labelledby="text-tab">
                        <form onsubmit="scanText(event)">
                            <div class="mb-3">
                                <label for="text-input" class="form-label" data-translate="text-label">Enter text to analyze:</label>
                                <textarea class="form-control" id="text-input" rows="5" 
                                          placeholder="Paste email content, message, or any text here..." required
                                          aria-describedby="text-help"></textarea>
                                <div id="text-help" class="form-text" data-translate="text-help">
                                    Paste any suspicious email, message, or text content for analysis
                                </div>
                            </div>
                            <button type="submit" class="btn btn-primary" data-translate="analyze-btn">
                                <i class="fas fa-search me-2"></i>Analyze Text
                            </button>
                        </form>
                    </div>

                    <!-- File Scan Tab -->
                    <div class="tab-pane fade" id="file-scan" role="tabpanel" aria-labelledby="file-tab">
                        <div class="upload-area" onclick="document.getElementById('file-input').click()" 
                             role="button" tabindex="0" aria-label="Click to upload file"
                             onkeypress="if(event.key==='Enter') document.getElementById('file-input').click()">
                            <i class="fas fa-cloud-upload-alt fa-3x text-primary mb-3"></i>
                            <h5 data-translate="upload-title">Drop files here or click to upload</h5>
                            <p class="text-muted" data-translate="upload-desc">Supports: PDF, DOC, TXT, EXE, ZIP files (Max 10MB)</p>
                            <input type="file" id="file-input" style="display: none;" 
                                   accept=".pdf,.doc,.docx,.txt,.exe,.zip" onchange="scanFile(event)">
                        </div>
                    </div>
                </div>

                <!-- Loading Spinner -->
                <div class="loading-spinner" id="loading-spinner">
                    <div class="spinner"></div>
                    <p data-translate="scanning">Scanning... Please wait</p>
                </div>

                <!-- Error Message -->
                <div class="error-message" id="error-message" role="alert">
                    <i class="fas fa-exclamation-triangle me-2"></i>
                    <span id="error-text"></span>
                </div>

                <!-- Success Message -->
                <div class="success-message" id="success-message" role="alert">
                    <i class="fas fa-check-circle me-2"></i>
                    <span id="success-text"></span>
                </div>

                <!-- Results Section -->
                <div id="results-section" style="display: none;">
                    <hr class="my-4">
                    <h4 data-translate="results-title">
                        <i class="fas fa-clipboard-list me-2"></i>Scan Results
                    </h4>
                    <div id="results-content"></div>
                </div>
            </div>

            <!-- Dashboard Section -->
            <div id="dashboard" class="page-section">
                <h2 class="mb-4" data-translate="dashboard-title">
                    <i class="fas fa-chart-bar text-primary me-2"></i>Security Dashboard
                </h2>

                <!-- Stats Cards -->
                <div class="row mb-4">
                    <div class="col-md-3 col-sm-6">
                        <div class="stats-card">
                            <div class="stat-value" id="total-scans">247</div>
                            <div class="stat-label" data-translate="total-scans">Total Scans</div>
                        </div>
                    </div>
                    <div class="col-md-3 col-sm-6">
                        <div class="stats-card">
                            <div class="stat-value text-danger" id="threats-found">23</div>
                            <div class="stat-label" data-translate="threats-found">Threats Found</div>
                        </div>
                    </div>
                    <div class="col-md-3 col-sm-6">
                        <div class="stats-card">
                            <div class="stat-value text-success" id="clean-scans">224</div>
                            <div class="stat-label" data-translate="clean-scans">Clean Scans</div>
                        </div>
                    </div>
                    <div class="col-md-3 col-sm-6">
                        <div class="stats-card">
                            <div class="stat-value text-warning" id="accuracy-rate">94%</div>
                            <div class="stat-label" data-translate="accuracy-rate">Accuracy Rate</div>
                        </div>
                    </div>
                </div>

                <!-- Charts Row -->
                <div class="row">
                    <div class="col-md-6">
                        <div class="stats-card">
                            <h5 data-translate="threat-types">Threat Types Distribution</h5>
                            <div style="padding: 20px; display: flex; flex-direction: column; align-items: center;">
                                <!-- CSS Pie Chart -->
                                <div style="width: 200px; height: 200px; border-radius: 50%; background: conic-gradient(
                                    #dc2626 0deg 72deg,
                                    #f59e0b 72deg 108deg,
                                    #ef4444 108deg 158deg,
                                    #10b981 158deg 360deg
                                ); margin-bottom: 20px; box-shadow: 0 8px 16px rgba(0,0,0,0.1);"></div>
                                
                                <!-- Legend -->
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; width: 100%;">
                                    <div style="display: flex; align-items: center;">
                                        <div style="width: 16px; height: 16px; background: #dc2626; border-radius: 3px; margin-right: 8px;"></div>
                                        <span style="font-size: 14px;">Phishing (8)</span>
                                    </div>
                                    <div style="display: flex; align-items: center;">
                                        <div style="width: 16px; height: 16px; background: #f59e0b; border-radius: 3px; margin-right: 8px;"></div>
                                        <span style="font-size: 14px;">Malware (5)</span>
                                    </div>
                                    <div style="display: flex; align-items: center;">
                                        <div style="width: 16px; height: 16px; background: #ef4444; border-radius: 3px; margin-right: 8px;"></div>
                                        <span style="font-size: 14px;">Spam (7)</span>
                                    </div>
                                    <div style="display: flex; align-items: center;">
                                        <div style="width: 16px; height: 16px; background: #10b981; border-radius: 3px; margin-right: 8px;"></div>
                                        <span style="font-size: 14px;">Clean (25)</span>
                                    </div>
                                </div>
                                
                                <!-- Summary -->
                                <div style="margin-top: 15px; text-align: center; padding: 10px; background: rgba(16, 185, 129, 0.1); border-radius: 8px; width: 100%;">
                                    <span style="color: #10b981; font-weight: bold;">✅ 55.6% Clean Scans</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="stats-card">
                            <h5 data-translate="scan-history">Scan History (Last 7 Days)</h5>
                            <div style="padding: 20px;">
                                <div style="display: flex; justify-content: space-between; align-items: end; height: 200px; border-bottom: 2px solid #e5e7eb; padding: 10px 0;">
                                    <div style="display: flex; flex-direction: column; align-items: center;">
                                        <div style="width: 30px; height: 60px; background: linear-gradient(to top, #0ea5e9, #7dd3fc); border-radius: 4px; margin-bottom: 5px; display: flex; align-items: end; justify-content: center; color: white; font-size: 12px; font-weight: bold;">12</div>
                                        <span style="font-size: 12px; color: #6b7280;">Mon</span>
                                    </div>
                                    <div style="display: flex; flex-direction: column; align-items: center;">
                                        <div style="width: 30px; height: 95px; background: linear-gradient(to top, #0ea5e9, #7dd3fc); border-radius: 4px; margin-bottom: 5px; display: flex; align-items: end; justify-content: center; color: white; font-size: 12px; font-weight: bold;">19</div>
                                        <span style="font-size: 12px; color: #6b7280;">Tue</span>
                                    </div>
                                    <div style="display: flex; flex-direction: column; align-items: center;">
                                        <div style="width: 30px; height: 75px; background: linear-gradient(to top, #0ea5e9, #7dd3fc); border-radius: 4px; margin-bottom: 5px; display: flex; align-items: end; justify-content: center; color: white; font-size: 12px; font-weight: bold;">15</div>
                                        <span style="font-size: 12px; color: #6b7280;">Wed</span>
                                    </div>
                                    <div style="display: flex; flex-direction: column; align-items: center;">
                                        <div style="width: 30px; height: 125px; background: linear-gradient(to top, #0ea5e9, #7dd3fc); border-radius: 4px; margin-bottom: 5px; display: flex; align-items: end; justify-content: center; color: white; font-size: 12px; font-weight: bold; box-shadow: 0 4px 8px rgba(14, 165, 233, 0.3);">25</div>
                                        <span style="font-size: 12px; color: #6b7280;">Thu</span>
                                    </div>
                                    <div style="display: flex; flex-direction: column; align-items: center;">
                                        <div style="width: 30px; height: 90px; background: linear-gradient(to top, #0ea5e9, #7dd3fc); border-radius: 4px; margin-bottom: 5px; display: flex; align-items: end; justify-content: center; color: white; font-size: 12px; font-weight: bold;">18</div>
                                        <span style="font-size: 12px; color: #6b7280;">Fri</span>
                                    </div>
                                    <div style="display: flex; flex-direction: column; align-items: center;">
                                        <div style="width: 30px; height: 110px; background: linear-gradient(to top, #0ea5e9, #7dd3fc); border-radius: 4px; margin-bottom: 5px; display: flex; align-items: end; justify-content: center; color: white; font-size: 12px; font-weight: bold;">22</div>
                                        <span style="font-size: 12px; color: #6b7280;">Sat</span>
                                    </div>
                                    <div style="display: flex; flex-direction: column; align-items: center;">
                                        <div style="width: 30px; height: 80px; background: linear-gradient(to top, #0ea5e9, #7dd3fc); border-radius: 4px; margin-bottom: 5px; display: flex; align-items: end; justify-content: center; color: white; font-size: 12px; font-weight: bold;">16</div>
                                        <span style="font-size: 12px; color: #6b7280;">Sun</span>
                                    </div>
                                </div>
                                <div style="margin-top: 15px; text-align: center;">
                                    <span style="color: #0ea5e9; font-weight: bold;">📈 Peak: Thursday (25 scans)</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row mt-4">
                    <div class="col-md-6">
                        <div class="stats-card">
                            <h5 data-translate="severity-levels">Threat Severity Levels</h5>
                            <div style="padding: 20px;">
                                <div style="margin: 15px 0;">
                                    <div style="display: flex; justify-content: space-between; align-items: center;">
                                        <span>Low Risk:</span><span>12 threats</span>
                                    </div>
                                    <div style="width: 100%; height: 20px; background: #e5e7eb; border-radius: 10px; margin-top: 5px;">
                                        <div style="width: 60%; height: 100%; background: #10b981; border-radius: 10px;"></div>
                                    </div>
                                </div>
                                <div style="margin: 15px 0;">
                                    <div style="display: flex; justify-content: space-between; align-items: center;">
                                        <span>Medium Risk:</span><span>8 threats</span>
                                    </div>
                                    <div style="width: 100%; height: 20px; background: #e5e7eb; border-radius: 10px; margin-top: 5px;">
                                        <div style="width: 40%; height: 100%; background: #f59e0b; border-radius: 10px;"></div>
                                    </div>
                                </div>
                                <div style="margin: 15px 0;">
                                    <div style="display: flex; justify-content: space-between; align-items: center;">
                                        <span>High Risk:</span><span>3 threats</span>
                                    </div>
                                    <div style="width: 100%; height: 20px; background: #e5e7eb; border-radius: 10px; margin-top: 5px;">
                                        <div style="width: 15%; height: 100%; background: #dc2626; border-radius: 10px;"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="stats-card">
                            <h5 data-translate="recent-threats">Recent Threat Activity</h5>
                            <div class="table-responsive">
                                <table class="table table-sm">
                                    <thead>
                                        <tr>
                                            <th data-translate="time">Time</th>
                                            <th data-translate="type">Type</th>
                                            <th data-translate="severity">Severity</th>
                                            <th data-translate="status">Status</th>
                                        </tr>
                                    </thead>
                                    <tbody id="recent-threats-table">
                                        <tr>
                                            <td>14:30</td>
                                            <td>Phishing URL</td>
                                            <td><span class="threat-tag tag-high">High</span></td>
                                            <td><i class="fas fa-shield-alt text-success"></i> Blocked</td>
                                        </tr>
                                        <tr>
                                            <td>14:15</td>
                                            <td>Spam Email</td>
                                            <td><span class="threat-tag tag-medium">Medium</span></td>
                                            <td><i class="fas fa-shield-alt text-success"></i> Blocked</td>
                                        </tr>
                                        <tr>
                                            <td>13:45</td>
                                            <td>Malware File</td>
                                            <td><span class="threat-tag tag-high">High</span></td>
                                            <td><i class="fas fa-shield-alt text-success"></i> Quarantined</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- History Section -->
            <div id="history" class="page-section">
                <h2 class="mb-4" data-translate="history-title">
                    <i class="fas fa-history text-primary me-2"></i>Scan History
                </h2>

                <!-- Filter Controls -->
                <div class="row mb-4">
                    <div class="col-md-3">
                        <select class="form-select" id="filter-type" onchange="filterHistory()">
                            <option value="all" data-translate="all-types">All Types</option>
                            <option value="url" data-translate="url-scans">URL Scans</option>
                            <option value="text" data-translate="text-scans">Text Scans</option>
                            <option value="file" data-translate="file-scans">File Scans</option>
                        </select>
                    </div>
                    <div class="col-md-3">
                        <select class="form-select" id="filter-result" onchange="filterHistory()">
                            <option value="all" data-translate="all-results">All Results</option>
                            <option value="clean" data-translate="clean-only">Clean Only</option>
                            <option value="threat" data-translate="threats-only">Threats Only</option>
                        </select>
                    </div>
                    <div class="col-md-3">
                        <input type="date" class="form-control" id="filter-date" onchange="filterHistory()">
                    </div>
                    <div class="col-md-3">
                        <button class="btn btn-outline-primary w-100" onclick="exportHistory()" data-translate="export-btn">
                            <i class="fas fa-download me-2"></i>Export
                        </button>
                    </div>
                </div>

                <!-- History Table -->
                <div class="table-responsive">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th data-translate="timestamp">Timestamp</th>
                                <th data-translate="scan-type">Type</th>
                                <th data-translate="target">Target</th>
                                <th data-translate="result">Result</th>
                                <th data-translate="threats">Threats</th>
                                <th data-translate="actions">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="history-table">
                            <tr>
                                <td>2024-10-04 14:30:15</td>
                                <td><i class="fas fa-link text-primary"></i> URL</td>
                                <td>https://suspicious-site.com</td>
                                <td><span class="threat-tag tag-high">Threat Detected</span></td>
                                <td>Phishing, Malware</td>
                                <td>
                                    <button class="btn btn-sm btn-outline-primary" onclick="viewDetails(1)">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button class="btn btn-sm btn-outline-danger" onclick="deleteRecord(1)">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>2024-10-04 14:15:32</td>
                                <td><i class="fas fa-file-text text-success"></i> Text</td>
                                <td>Email content analysis</td>
                                <td><span class="threat-tag tag-medium">Suspicious</span></td>
                                <td>Spam</td>
                                <td>
                                    <button class="btn btn-sm btn-outline-primary" onclick="viewDetails(2)">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button class="btn btn-sm btn-outline-danger" onclick="deleteRecord(2)">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>2024-10-04 13:45:18</td>
                                <td><i class="fas fa-file text-info"></i> File</td>
                                <td>document.pdf</td>
                                <td><span class="threat-tag tag-low">Clean</span></td>
                                <td>None</td>
                                <td>
                                    <button class="btn btn-sm btn-outline-primary" onclick="viewDetails(3)">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button class="btn btn-sm btn-outline-danger" onclick="deleteRecord(3)">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Pagination -->
                <nav aria-label="History pagination">
                    <ul class="pagination justify-content-center">
                        <li class="page-item disabled">
                            <a class="page-link" href="#" tabindex="-1" aria-disabled="true">Previous</a>
                        </li>
                        <li class="page-item active"><a class="page-link" href="#">1</a></li>
                        <li class="page-item"><a class="page-link" href="#">2</a></li>
                        <li class="page-item"><a class="page-link" href="#">3</a></li>
                        <li class="page-item">
                            <a class="page-link" href="#">Next</a>
                        </li>
                    </ul>
                </nav>
            </div>

            <!-- Whitelist Management Section -->
            <div id="whitelist" class="page-section">
                <h2 class="mb-4" data-translate="whitelist-title">
                    <i class="fas fa-shield-alt text-success me-2"></i>Whitelist Management
                </h2>

                <!-- Add to Whitelist Form -->
                <div class="stats-card mb-4">
                    <h5 data-translate="add-whitelist">Add to Whitelist</h5>
                    <form onsubmit="addToWhitelistSimple(event)">
                        <div class="row">
                            <div class="col-md-3">
                                <select class="form-select" id="whitelist-type" required>
                                    <option value="url">URL/Domain</option>
                                    <option value="email">Email Address</option>
                                    <option value="ip">IP Address</option>
                                    <option value="file">File Hash</option>
                                </select>
                            </div>
                            <div class="col-md-6">
                                <input type="text" class="form-control" id="whitelist-value" 
                                       placeholder="Enter URL, email, IP, or file hash..." required>
                            </div>
                            <div class="col-md-3">
                                <button type="submit" class="btn btn-success w-100">
                                    <i class="fas fa-plus me-1"></i>Add to Whitelist
                                </button>
                            </div>
                        </div>
                    </form>
                </div>

                <!-- Whitelist Display -->
                <div class="stats-card">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <h5 data-translate="current-whitelist">Current Whitelist</h5>
                        <button class="btn btn-outline-primary btn-sm" onclick="showMessage('Whitelist refreshed!', 'success')">
                            <i class="fas fa-refresh me-1"></i>Refresh
                        </button>
                    </div>
                    <div class="table-responsive">
                        <table class="table table-hover">
                            <thead>
                                <tr>
                                    <th>Type</th>
                                    <th>Value</th>
                                    <th>Reason</th>
                                    <th>Added</th>
                                    <th>Expires</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><span class="badge bg-primary">URL</span></td>
                                    <td>https://google.com</td>
                                    <td>Trusted Domain</td>
                                    <td>Oct 4, 2024</td>
                                    <td>Never</td>
                                    <td>
                                        <button class="btn btn-sm btn-outline-danger" onclick="showMessage('Removed from whitelist', 'success')">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </td>
                                </tr>
                                <tr>
                                    <td><span class="badge bg-success">Email</span></td>
                                    <td>admin@company.com</td>
                                    <td>Business Partner</td>
                                    <td>Oct 3, 2024</td>
                                    <td>Never</td>
                                    <td>
                                        <button class="btn btn-sm btn-outline-danger" onclick="showMessage('Removed from whitelist', 'success')">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </td>
                                </tr>
                                <tr>
                                    <td><span class="badge bg-info">IP</span></td>
                                    <td>192.168.1.100</td>
                                    <td>Internal System</td>
                                    <td>Oct 2, 2024</td>
                                    <td>30 days</td>
                                    <td>
                                        <button class="btn btn-sm btn-outline-danger" onclick="showMessage('Removed from whitelist', 'success')">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </td>
                                </tr>
                                <tr>
                                    <td><span class="badge bg-warning">File</span></td>
                                    <td>abc123...def456</td>
                                    <td>False Positive</td>
                                    <td>Oct 1, 2024</td>
                                    <td>7 days</td>
                                    <td>
                                        <button class="btn btn-sm btn-outline-danger" onclick="showMessage('Removed from whitelist', 'success')">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Feedback Management Section -->
            <div id="feedback" class="page-section">
                <h2 class="mb-4" data-translate="feedback-title">
                    <i class="fas fa-comments text-info me-2"></i>Feedback & Analytics
                </h2>

                <!-- Feedback Statistics -->
                <div class="row mb-4">
                    <div class="col-md-3">
                        <div class="stats-card">
                            <div class="stat-value text-info">47</div>
                            <div class="stat-label">Total Feedback</div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="stats-card">
                            <div class="stat-value text-success">42</div>
                            <div class="stat-label">Correct Results</div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="stats-card">
                            <div class="stat-value text-warning">5</div>
                            <div class="stat-label">Incorrect Results</div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="stats-card">
                            <div class="stat-value text-primary">89%</div>
                            <div class="stat-label">Accuracy Rate</div>
                        </div>
                    </div>
                </div>

                <!-- Recent Feedback -->
                <div class="stats-card">
                    <h5>Recent Feedback</h5>
                    <div class="table-responsive">
                        <table class="table table-hover">
                            <thead>
                                <tr>
                                    <th>Time</th>
                                    <th>Scan Type</th>
                                    <th>Feedback</th>
                                    <th>Comment</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>15:45</td>
                                    <td><span class="badge bg-primary">URL</span></td>
                                    <td><span class="badge bg-success">Correct</span></td>
                                    <td>Good detection accuracy</td>
                                    <td><i class="fas fa-check text-success"></i></td>
                                </tr>
                                <tr>
                                    <td>15:30</td>
                                    <td><span class="badge bg-info">Text</span></td>
                                    <td><span class="badge bg-warning">False Positive</span></td>
                                    <td>This was a legitimate email</td>
                                    <td><i class="fas fa-exclamation text-warning"></i></td>
                                </tr>
                                <tr>
                                    <td>15:15</td>
                                    <td><span class="badge bg-secondary">File</span></td>
                                    <td><span class="badge bg-success">Correct</span></td>
                                    <td>Malware detected correctly</td>
                                    <td><i class="fas fa-check text-success"></i></td>
                                </tr>
                                <tr>
                                    <td>14:50</td>
                                    <td><span class="badge bg-primary">URL</span></td>
                                    <td><span class="badge bg-success">Correct</span></td>
                                    <td>Phishing site blocked</td>
                                    <td><i class="fas fa-check text-success"></i></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- About Section -->
            <div id="about" class="page-section">
                <h2 class="mb-4" data-translate="about-title">
                    <i class="fas fa-info-circle text-primary me-2"></i>About TrustEye
                </h2>

                <!-- Mission Statement -->
                <div class="stats-card mb-4">
                    <h4 data-translate="mission-title">Our Mission</h4>
                    <p data-translate="mission-text">TrustEye is an AI-powered cybersecurity platform designed to protect individuals and organizations from digital threats. We combine advanced machine learning, threat intelligence, and real-time analysis to provide comprehensive security solutions.</p>
                </div>

                <!-- Team Section -->
                <div class="stats-card mb-4">
                    <h4 data-translate="team-title">Meet Our Team</h4>
                    <div class="row mt-3">
                        <div class="col-md-4 mb-3">
                            <div class="text-center">
                                <div class="team-avatar mb-2">
                                    <i class="fas fa-user-tie fa-3x text-primary"></i>
                                </div>
                                <h6>Alex Chen</h6>
                                <p class="text-muted small">Lead Security Engineer</p>
                                <p class="small">10+ years in cybersecurity, specializing in threat detection and ML algorithms.</p>
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <div class="text-center">
                                <div class="team-avatar mb-2">
                                    <i class="fas fa-user-cog fa-3x text-success"></i>
                                </div>
                                <h6>Sarah Johnson</h6>
                                <p class="text-muted small">AI/ML Specialist</p>
                                <p class="small">Expert in machine learning models for pattern recognition and threat analysis.</p>
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <div class="text-center">
                                <div class="team-avatar mb-2">
                                    <i class="fas fa-user-shield fa-3x text-warning"></i>
                                </div>
                                <h6>Mike Rodriguez</h6>
                                <p class="text-muted small">Full-Stack Developer</p>
                                <p class="small">Responsible for platform architecture and user experience design.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tech Stack -->
                <div class="stats-card mb-4">
                    <h4 data-translate="tech-stack-title">Technology Stack</h4>
                    <div class="row mt-3">
                        <div class="col-md-6">
                            <h6><i class="fas fa-server text-primary me-2"></i>Backend Technologies</h6>
                            <ul class="list-unstyled ms-3">
                                <li><i class="fab fa-python me-2"></i>Python 3.9+ (Flask, FastAPI)</li>
                                <li><i class="fas fa-database me-2"></i>SQLite & PostgreSQL</li>
                                <li><i class="fas fa-memory me-2"></i>Redis (Caching)</li>
                                <li><i class="fas fa-brain me-2"></i>scikit-learn, TensorFlow</li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <h6><i class="fas fa-desktop text-success me-2"></i>Frontend Technologies</h6>
                            <ul class="list-unstyled ms-3">
                                <li><i class="fab fa-html5 me-2"></i>HTML5, CSS3, JavaScript ES6+</li>
                                <li><i class="fab fa-bootstrap me-2"></i>Bootstrap 5.3</li>
                                <li><i class="fas fa-chart-bar me-2"></i>Chart.js for visualizations</li>
                                <li><i class="fas fa-mobile-alt me-2"></i>Responsive design</li>
                            </ul>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-md-6">
                            <h6><i class="fas fa-shield-alt text-warning me-2"></i>Security & APIs</h6>
                            <ul class="list-unstyled ms-3">
                                <li><i class="fas fa-virus me-2"></i>VirusTotal API</li>
                                <li><i class="fas fa-fish me-2"></i>PhishTank API</li>
                                <li><i class="fas fa-ban me-2"></i>AbuseIPDB API</li>
                                <li><i class="fas fa-lock me-2"></i>HTTPS/TLS encryption</li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <h6><i class="fas fa-cloud text-info me-2"></i>Infrastructure</h6>
                            <ul class="list-unstyled ms-3">
                                <li><i class="fab fa-docker me-2"></i>Docker containerization</li>
                                <li><i class="fas fa-server me-2"></i>Nginx reverse proxy</li>
                                <li><i class="fas fa-chart-line me-2"></i>Prometheus monitoring</li>
                                <li><i class="fas fa-tachometer-alt me-2"></i>Grafana dashboards</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Architecture Diagram -->
                <div class="stats-card">
                    <h4 data-translate="architecture-title">System Architecture</h4>
                    <div class="architecture-diagram mt-3">
                        <div class="row text-center">
                            <div class="col-md-3">
                                <div class="arch-component frontend">
                                    <i class="fas fa-desktop fa-2x mb-2"></i>
                                    <h6>Frontend</h6>
                                    <small>React/HTML5<br>Bootstrap UI</small>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="arch-component api">
                                    <i class="fas fa-exchange-alt fa-2x mb-2"></i>
                                    <h6>API Layer</h6>
                                    <small>RESTful APIs<br>Authentication</small>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="arch-component ml">
                                    <i class="fas fa-brain fa-2x mb-2"></i>
                                    <h6>ML Engine</h6>
                                    <small>Threat Detection<br>Pattern Analysis</small>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="arch-component database">
                                    <i class="fas fa-database fa-2x mb-2"></i>
                                    <h6>Database</h6>
                                    <small>PostgreSQL<br>Redis Cache</small>
                                </div>
                            </div>
                        </div>
                        <div class="row text-center mt-4">
                            <div class="col-md-4">
                                <div class="arch-component external">
                                    <i class="fas fa-cloud fa-2x mb-2"></i>
                                    <h6>Threat Intel</h6>
                                    <small>VirusTotal<br>PhishTank</small>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="arch-component monitoring">
                                    <i class="fas fa-chart-line fa-2x mb-2"></i>
                                    <h6>Monitoring</h6>
                                    <small>Prometheus<br>Grafana</small>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="arch-component security">
                                    <i class="fas fa-shield-alt fa-2x mb-2"></i>
                                    <h6>Security</h6>
                                    <small>HTTPS/TLS<br>Rate Limiting</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Contact Section -->
            <div id="contact" class="page-section">
                <h2 class="mb-4" data-translate="contact-title">
                    <i class="fas fa-envelope text-primary me-2"></i>Contact & Feedback
                </h2>

                <div class="row">
                    <div class="col-md-8">
                        <div class="stats-card">
                            <h4 data-translate="contact-form-title">Send us a Message</h4>
                            <form id="contact-form" onsubmit="submitContactForm(event)">
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="contact-name" class="form-label" data-translate="name-label">Name</label>
                                        <input type="text" class="form-control" id="contact-name" required>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="contact-email" class="form-label" data-translate="email-label">Email</label>
                                        <input type="email" class="form-control" id="contact-email" required>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label for="contact-subject" class="form-label" data-translate="subject-label">Subject</label>
                                    <select class="form-select" id="contact-subject" required>
                                        <option value="" data-translate="select-subject">Select a subject...</option>
                                        <option value="bug-report" data-translate="bug-report">Bug Report</option>
                                        <option value="feature-request" data-translate="feature-request">Feature Request</option>
                                        <option value="general-feedback" data-translate="general-feedback">General Feedback</option>
                                        <option value="technical-support" data-translate="technical-support">Technical Support</option>
                                        <option value="partnership" data-translate="partnership">Partnership Inquiry</option>
                                    </select>
                                </div>
                                <div class="mb-3">
                                    <label for="contact-message" class="form-label" data-translate="message-label">Message</label>
                                    <textarea class="form-control" id="contact-message" rows="5" required 
                                              placeholder="Please describe your feedback, issue, or suggestion in detail..."></textarea>
                                </div>
                                <div class="mb-3">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="contact-updates" value="yes">
                                        <label class="form-check-label" for="contact-updates" data-translate="updates-label">
                                            I'd like to receive updates about TrustEye
                                        </label>
                                    </div>
                                </div>
                                <button type="submit" class="btn btn-primary">
                                    <i class="fas fa-paper-plane me-2"></i><span data-translate="send-message">Send Message</span>
                                </button>
                            </form>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="stats-card">
                            <h4 data-translate="contact-info-title">Get in Touch</h4>
                            <div class="contact-info">
                                <div class="contact-item mb-3">
                                    <i class="fas fa-envelope text-primary me-3"></i>
                                    <div>
                                        <strong data-translate="email-support">Email Support</strong>
                                        <br><a href="mailto:support@trusteye.ai">support@trusteye.ai</a>
                                    </div>
                                </div>
                                <div class="contact-item mb-3">
                                    <i class="fas fa-bug text-warning me-3"></i>
                                    <div>
                                        <strong data-translate="bug-reports">Bug Reports</strong>
                                        <br><a href="mailto:bugs@trusteye.ai">bugs@trusteye.ai</a>
                                    </div>
                                </div>
                                <div class="contact-item mb-3">
                                    <i class="fas fa-lightbulb text-success me-3"></i>
                                    <div>
                                        <strong data-translate="feature-suggestions">Feature Suggestions</strong>
                                        <br><a href="mailto:features@trusteye.ai">features@trusteye.ai</a>
                                    </div>
                                </div>
                                <div class="contact-item mb-3">
                                    <i class="fab fa-github text-dark me-3"></i>
                                    <div>
                                        <strong data-translate="open-source">Open Source</strong>
                                        <br><a href="https://github.com/trusteye/platform" target="_blank">GitHub Repository</a>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="stats-card mt-3">
                            <h5 data-translate="response-time-title">Response Times</h5>
                            <ul class="list-unstyled">
                                <li><i class="fas fa-clock text-success me-2"></i><span data-translate="general-inquiries">General inquiries: 24-48 hours</span></li>
                                <li><i class="fas fa-exclamation-triangle text-warning me-2"></i><span data-translate="bug-reports-time">Bug reports: 12-24 hours</span></li>
                                <li><i class="fas fa-fire text-danger me-2"></i><span data-translate="critical-issues">Critical issues: 2-6 hours</span></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Include Frontend Components -->
    <script src="frontend_components.js"></script>
    
    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.min.js"></script>
    
    <!-- Test Charts Script -->
    <script>
        setTimeout(function() {
            // Chart 1: Threat Types
            const ctx1 = document.getElementById('threatTypesChart');
            if (ctx1) {
                new Chart(ctx1, {
                    type: 'doughnut',
                    data: {
                        labels: ['Phishing', 'Malware', 'Spam', 'Clean'],
                        datasets: [{
                            data: [8, 5, 7, 25],
                            backgroundColor: ['#dc2626', '#f59e0b', '#ef4444', '#10b981']
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false
                    }
                });
            }

            // Chart 2: Scan History
            const ctx2 = document.getElementById('scanHistoryChart');
            if (ctx2) {
                new Chart(ctx2, {
                    type: 'line',
                    data: {
                        labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                        datasets: [{
                            label: 'Scans',
                            data: [12, 19, 15, 25, 18, 22, 16],
                            borderColor: '#0ea5e9',
                            backgroundColor: 'rgba(14, 165, 233, 0.1)',
                            fill: true
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false
                    }
                });
            }

            // Chart 3: Severity Levels
            const ctx3 = document.getElementById('severityChart');
            if (ctx3) {
                new Chart(ctx3, {
                    type: 'bar',
                    data: {
                        labels: ['Low', 'Medium', 'High'],
                        datasets: [{
                            label: 'Threats',
                            data: [12, 8, 3],
                            backgroundColor: ['#10b981', '#f59e0b', '#dc2626']
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false
                    }
                });
            }
        }, 2000);
    </script>
    
    <script>
        // Language translations
        const translations = {
            en: {
                'brand': 'TrustEye',
                'scanner': 'Scanner',
                'dashboard': 'Dashboard',
                'history': 'History',
                'lang-toggle': 'EN | हिं',
                'try-demo': 'Try Demo',
                'about': 'About',
                'contact': 'Contact',
                'about-title': 'About TrustEye',
                'mission-title': 'Our Mission',
                'mission-text': 'TrustEye is an AI-powered cybersecurity platform designed to protect individuals and organizations from digital threats. We combine advanced machine learning, threat intelligence, and real-time analysis to provide comprehensive security solutions.',
                'team-title': 'Meet Our Team',
                'tech-stack-title': 'Technology Stack',
                'architecture-title': 'System Architecture',
                'contact-title': 'Contact & Feedback',
                'contact-form-title': 'Send us a Message',
                'name-label': 'Name',
                'email-label': 'Email',
                'subject-label': 'Subject',
                'message-label': 'Message',
                'select-subject': 'Select a subject...',
                'bug-report': 'Bug Report',
                'feature-request': 'Feature Request',
                'general-feedback': 'General Feedback',
                'technical-support': 'Technical Support',
                'partnership': 'Partnership Inquiry',
                'updates-label': 'I\'d like to receive updates about TrustEye',
                'send-message': 'Send Message',
                'contact-info-title': 'Get in Touch',
                'email-support': 'Email Support',
                'bug-reports': 'Bug Reports',
                'feature-suggestions': 'Feature Suggestions',
                'open-source': 'Open Source',
                'response-time-title': 'Response Times',
                'general-inquiries': 'General inquiries: 24-48 hours',
                'bug-reports-time': 'Bug reports: 12-24 hours',
                'critical-issues': 'Critical issues: 2-6 hours',
                'hero-title': 'AI-Powered Threat Detection',
                'hero-subtitle': 'Protect your digital assets with advanced cybersecurity intelligence',
                'scanner-title': 'Threat Scanner',
                'sample-title': 'Try Sample Inputs',
                'sample-desc': 'Click any button below to test with sample data',
                'sample-urls': 'Sample URLs:',
                'sample-phishing': 'Phishing URL',
                'sample-safe': 'Safe URL',
                'sample-emails': 'Sample Emails:',
                'sample-spam': 'Spam Email',
                'sample-normal': 'Normal Email',
                'sample-files': 'Sample Files:',
                'sample-malware': 'Malware File',
                'sample-clean': 'Clean File',
                'url-scan': 'URL Scan',
                'text-scan': 'Text Scan',
                'file-scan': 'File Scan',
                'url-label': 'Enter URL to scan:',
                'url-help': 'Enter a complete URL including http:// or https://',
                'text-label': 'Enter text to analyze:',
                'text-help': 'Paste any suspicious email, message, or text content for analysis',
                'scan-btn': 'Scan URL',
                'analyze-btn': 'Analyze Text',
                'upload-title': 'Drop files here or click to upload',
                'upload-desc': 'Supports: PDF, DOC, TXT, EXE, ZIP files (Max 10MB)',
                'scanning': 'Scanning... Please wait',
                'results-title': 'Scan Results',
                'dashboard-title': 'Security Dashboard',
                'total-scans': 'Total Scans',
                'threats-found': 'Threats Found',
                'clean-scans': 'Clean Scans',
                'accuracy-rate': 'Accuracy Rate',
                'threat-types': 'Threat Types Distribution',
                'scan-history': 'Scan History (Last 7 Days)',
                'severity-levels': 'Threat Severity Levels',
                'recent-threats': 'Recent Threat Activity',
                'time': 'Time',
                'type': 'Type',
                'severity': 'Severity',
                'status': 'Status',
                'history-title': 'Scan History',
                'all-types': 'All Types',
                'url-scans': 'URL Scans',
                'text-scans': 'Text Scans',
                'file-scans': 'File Scans',
                'all-results': 'All Results',
                'clean-only': 'Clean Only',
                'threats-only': 'Threats Only',
                'export-btn': 'Export',
                'timestamp': 'Timestamp',
                'scan-type': 'Type',
                'target': 'Target',
                'result': 'Result',
                'threats': 'Threats',
                'actions': 'Actions'
            },
            hi: {
                'brand': 'ट्रस्टआई',
                'scanner': 'स्कैनर',
                'dashboard': 'डैशबोर्ड',
                'history': 'इतिहास',
                'lang-toggle': 'हिं | EN',
                'try-demo': 'डेमो आज़माएं',
                'about': 'के बारे में',
                'contact': 'संपर्क',
                'about-title': 'TrustEye के बारे में',
                'mission-title': 'हमारा मिशन',
                'mission-text': 'TrustEye एक AI-संचालित साइबर सुरक्षा प्लेटफॉर्म है जो व्यक्तियों और संगठनों को डिजिटल खतरों से बचाने के लिए डिज़ाइन किया गया है। हम व्यापक सुरक्षा समाधान प्रदान करने के लिए उन्नत मशीन लर्निंग, खतरा बुद्धिमत्ता और रीयल-टाइम विश्लेषण को जोड़ते हैं।',
                'team-title': 'हमारी टीम से मिलें',
                'tech-stack-title': 'प्रौद्योगिकी स्टैक',
                'architecture-title': 'सिस्टम आर्किटेक्चर',
                'contact-title': 'संपर्क और फीडबैक',
                'contact-form-title': 'हमें संदेश भेजें',
                'name-label': 'नाम',
                'email-label': 'ईमेल',
                'subject-label': 'विषय',
                'message-label': 'संदेश',
                'select-subject': 'एक विषय चुनें...',
                'bug-report': 'बग रिपोर्ट',
                'feature-request': 'फीचर अनुरोध',
                'general-feedback': 'सामान्य फीडबैक',
                'technical-support': 'तकनीकी सहायता',
                'partnership': 'साझेदारी पूछताछ',
                'updates-label': 'मैं TrustEye के बारे में अपडेट प्राप्त करना चाहूंगा',
                'send-message': 'संदेश भेजें',
                'contact-info-title': 'संपर्क में रहें',
                'email-support': 'ईमेल सहायता',
                'bug-reports': 'बग रिपोर्ट',
                'feature-suggestions': 'फीचर सुझाव',
                'open-source': 'ओपन सोर्स',
                'response-time-title': 'प्रतिक्रिया समय',
                'general-inquiries': 'सामान्य पूछताछ: 24-48 घंटे',
                'bug-reports-time': 'बग रिपोर्ट: 12-24 घंटे',
                'critical-issues': 'गंभीर मुद्दे: 2-6 घंटे',
                'hero-title': 'AI-संचालित खतरा पहचान',
                'hero-subtitle': 'उन्नत साइबर सुरक्षा बुद्धिमत्ता के साथ अपनी डिजिटल संपत्ति की सुरक्षा करें',
                'scanner-title': 'खतरा स्कैनर',
                'sample-title': 'नमूना इनपुट आज़माएं',
                'sample-desc': 'नमूना डेटा के साथ परीक्षण करने के लिए नीचे कोई भी बटन दबाएं',
                'sample-urls': 'नमूना URLs:',
                'sample-phishing': 'फ़िशिंग URL',
                'sample-safe': 'सुरक्षित URL',
                'sample-emails': 'नमूना ईमेल:',
                'sample-spam': 'स्पैम ईमेल',
                'sample-normal': 'सामान्य ईमेल',
                'sample-files': 'नमूना फ़ाइलें:',
                'sample-malware': 'मैलवेयर फ़ाइल',
                'sample-clean': 'साफ़ फ़ाइल',
                'url-scan': 'URL स्कैन',
                'text-scan': 'टेक्स्ट स्कैन',
                'file-scan': 'फ़ाइल स्कैन',
                'url-label': 'स्कैन करने के लिए URL दर्ज करें:',
                'url-help': 'http:// या https:// सहित पूरा URL दर्ज करें',
                'text-label': 'विश्लेषण के लिए टेक्स्ट दर्ज करें:',
                'text-help': 'विश्लेषण के लिए कोई भी संदिग्ध ईमेल, संदेश, या टेक्स्ट सामग्री पेस्ट करें',
                'scan-btn': 'URL स्कैन करें',
                'analyze-btn': 'टेक्स्ट का विश्लेषण करें',
                'upload-title': 'फ़ाइलें यहाँ छोड़ें या अपलोड करने के लिए क्लिक करें',
                'upload-desc': 'समर्थित: PDF, DOC, TXT, EXE, ZIP फ़ाइलें (अधिकतम 10MB)',
                'scanning': 'स्कैन हो रहा है... कृपया प्रतीक्षा करें',
                'results-title': 'स्कैन परिणाम',
                'dashboard-title': 'सुरक्षा डैशबोर्ड',
                'total-scans': 'कुल स्कैन',
                'threats-found': 'खतरे मिले',
                'clean-scans': 'साफ़ स्कैन',
                'accuracy-rate': 'सटीकता दर',
                'threat-types': 'खतरे के प्रकार वितरण',
                'scan-history': 'स्कैन इतिहास (पिछले 7 दिन)',
                'severity-levels': 'खतरे की गंभीरता स्तर',
                'recent-threats': 'हाल की खतरा गतिविधि',
                'time': 'समय',
                'type': 'प्रकार',
                'severity': 'गंभीरता',
                'status': 'स्थिति',
                'history-title': 'स्कैन इतिहास',
                'all-types': 'सभी प्रकार',
                'url-scans': 'URL स्कैन',
                'text-scans': 'टेक्स्ट स्कैन',
                'file-scans': 'फ़ाइल स्कैन',
                'all-results': 'सभी परिणाम',
                'clean-only': 'केवल साफ़',
                'threats-only': 'केवल खतरे',
                'export-btn': 'निर्यात',
                'timestamp': 'समयचिह्न',
                'scan-type': 'प्रकार',
                'target': 'लक्ष्य',
                'result': 'परिणाम',
                'threats': 'खतरे',
                'actions': 'क्रियाएं'
            }
        };

        let currentLang = 'en';
        let currentTheme = 'light';

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            // Update dashboard with live data
            updateDashboardWithLiveData();
            
            // Update dashboard every 30 seconds
            setInterval(updateDashboardWithLiveData, 30000);
            
            // Simple direct chart initialization
            setTimeout(function() {
                // Threat Types Chart
                const threatCtx = document.getElementById('threatTypesChart');
                if (threatCtx) {
                    new Chart(threatCtx, {
                        type: 'doughnut',
                        data: {
                            labels: ['Phishing', 'Malware', 'Spam', 'Clean'],
                            datasets: [{
                                data: [8, 5, 7, 25],
                                backgroundColor: ['#dc2626', '#f59e0b', '#ef4444', '#10b981']
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false
                        }
                    });
                }
                
                // Scan History Chart
                const historyCtx = document.getElementById('scanHistoryChart');
                if (historyCtx) {
                    new Chart(historyCtx, {
                        type: 'line',
                        data: {
                            labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                            datasets: [{
                                label: 'Scans',
                                data: [12, 19, 15, 25, 18, 22, 16],
                                borderColor: '#0ea5e9',
                                backgroundColor: 'rgba(14, 165, 233, 0.1)',
                                fill: true
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false
                        }
                    });
                }
                
                // Severity Chart
                const severityCtx = document.getElementById('severityChart');
                if (severityCtx) {
                    new Chart(severityCtx, {
                        type: 'bar',
                        data: {
                            labels: ['Low', 'Medium', 'High'],
                            datasets: [{
                                label: 'Threats',
                                data: [12, 8, 3],
                                backgroundColor: ['#10b981', '#f59e0b', '#dc2626']
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false
                        }
                    });
                }
            }, 1000);
            
            loadUserPreferences();
            updateStats();
            updateDashboardData();
        });

        // Update dashboard with real data
        async function updateDashboardData() {
            // Use sample data for demo purposes
            const sampleData = {
                totalScans: 247,
                threatsFound: 23,
                cleanScans: 224,
                accuracyRate: 94
            };
            
            // Update stats cards with sample data
            if (document.getElementById('total-scans')) {
                animateValue('total-scans', 0, sampleData.totalScans, 1000);
            }
            if (document.getElementById('threats-found')) {
                animateValue('threats-found', 0, sampleData.threatsFound, 1200);
            }
            if (document.getElementById('clean-scans')) {
                animateValue('clean-scans', 0, sampleData.cleanScans, 1400);
            }
            if (document.getElementById('accuracy-rate')) {
                setTimeout(() => {
                    document.getElementById('accuracy-rate').textContent = sampleData.accuracyRate + '%';
                }, 1600);
            }
        }

        // Animate counter values
        function animateValue(id, start, end, duration) {
            const element = document.getElementById(id);
            if (!element) return;
            
            const range = end - start;
            const increment = range / (duration / 16);
            let current = start;
            
            const timer = setInterval(() => {
                current += increment;
                element.textContent = Math.floor(current);
                
                if (current >= end) {
                    element.textContent = end;
                    clearInterval(timer);
                }
            }, 16);
        }

        // Theme toggle
        function toggleTheme() {
            currentTheme = currentTheme === 'light' ? 'dark' : 'light';
            document.documentElement.setAttribute('data-theme', currentTheme);
            
            const icon = document.getElementById('theme-icon');
            icon.className = currentTheme === 'light' ? 'fas fa-moon' : 'fas fa-sun';
            
            localStorage.setItem('theme', currentTheme);
            
            // Reinitialize charts with new theme
            setTimeout(initializeCharts, 100);
        }

        // Language toggle
        function toggleLanguage() {
            currentLang = currentLang === 'en' ? 'hi' : 'en';
            updateLanguage();
            localStorage.setItem('language', currentLang);
        }

        function updateLanguage() {
            const elements = document.querySelectorAll('[data-translate]');
            elements.forEach(element => {
                const key = element.getAttribute('data-translate');
                if (translations[currentLang][key]) {
                    if (element.tagName === 'INPUT' && element.type === 'submit') {
                        element.value = translations[currentLang][key];
                    } else {
                        element.textContent = translations[currentLang][key];
                    }
                }
            });
        }

        // Load user preferences
        function loadUserPreferences() {
            const savedTheme = localStorage.getItem('theme');
            const savedLang = localStorage.getItem('language');
            
            if (savedTheme) {
                currentTheme = savedTheme;
                document.documentElement.setAttribute('data-theme', currentTheme);
                const icon = document.getElementById('theme-icon');
                icon.className = currentTheme === 'light' ? 'fas fa-moon' : 'fas fa-sun';
            }
            
            if (savedLang) {
                currentLang = savedLang;
                updateLanguage();
            }
        }

        // Contact form submission
        function submitContactForm(event) {
            event.preventDefault();
            
            const formData = {
                name: document.getElementById('contact-name').value,
                email: document.getElementById('contact-email').value,
                subject: document.getElementById('contact-subject').value,
                message: document.getElementById('contact-message').value,
                updates: document.getElementById('contact-updates').checked
            };
            
            // Simulate form submission
            showMessage('Thank you for your message! We\'ll get back to you soon.', 'success');
            document.getElementById('contact-form').reset();
            
            // In a real implementation, you would send this to your backend
            console.log('Contact form submitted:', formData);
        }

        // Update dashboard with live data from scan history
        function updateDashboardWithLiveData() {
            // This would typically fetch from your API
            // For demo purposes, we'll simulate live updates
            
            // Update stats based on actual scan data
            const totalScans = document.querySelectorAll('#history tbody tr').length || 247;
            const threatsFound = Math.floor(totalScans * 0.093); // ~9.3% threat rate
            const cleanScans = totalScans - threatsFound;
            const accuracyRate = Math.floor(89 + Math.random() * 6); // 89-95%
            
            // Update the dashboard stats
            if (document.getElementById('total-scans')) {
                document.getElementById('total-scans').textContent = totalScans;
            }
            if (document.getElementById('threats-found')) {
                document.getElementById('threats-found').textContent = threatsFound;
            }
            if (document.getElementById('clean-scans')) {
                document.getElementById('clean-scans').textContent = cleanScans;
            }
            if (document.getElementById('accuracy-rate')) {
                document.getElementById('accuracy-rate').textContent = accuracyRate + '%';
            }
        }

        // Section navigation
        function showSection(sectionName) {
            // Hide all sections
            document.querySelectorAll('.page-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Show selected section
            document.getElementById(sectionName).classList.add('active');
            
            // Update nav links
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
            });
            event.target.classList.add('active');
        }

        // Sample input functions
        function useSample(type, value) {
            if (type === 'url') {
                document.getElementById('url-input').value = value;
                // Switch to URL tab
                const urlTab = document.getElementById('url-tab');
                const urlPane = document.getElementById('url-scan');
                
                // Remove active from all tabs
                document.querySelectorAll('.nav-link').forEach(tab => tab.classList.remove('active'));
                document.querySelectorAll('.tab-pane').forEach(pane => pane.classList.remove('show', 'active'));
                
                // Activate URL tab
                urlTab.classList.add('active');
                urlPane.classList.add('show', 'active');
                
            } else if (type === 'text') {
                document.getElementById('text-input').value = value;
                // Switch to text tab
                const textTab = document.getElementById('text-tab');
                const textPane = document.getElementById('text-scan');
                
                // Remove active from all tabs
                document.querySelectorAll('.nav-link').forEach(tab => tab.classList.remove('active'));
                document.querySelectorAll('.tab-pane').forEach(pane => pane.classList.remove('show', 'active'));
                
                // Activate text tab
                textTab.classList.add('active');
                textPane.classList.add('show', 'active');
                
            } else if (type === 'file') {
                showMessage('Sample file "' + value + '" loaded for demonstration', 'success');
                // Switch to file tab
                const fileTab = document.getElementById('file-tab');
                const filePane = document.getElementById('file-scan');
                
                // Remove active from all tabs
                document.querySelectorAll('.nav-link').forEach(tab => tab.classList.remove('active'));
                document.querySelectorAll('.tab-pane').forEach(pane => pane.classList.remove('show', 'active'));
                
                // Activate file tab
                fileTab.classList.add('active');
                filePane.classList.add('show', 'active');
            }
        }

        // Scan functions
        async function scanURL(event) {
            event.preventDefault();
            const url = document.getElementById('url-input').value;
            
            if (!url) {
                showMessage('Please enter a URL to scan', 'error');
                return;
            }
            
            if (!isValidURL(url)) {
                showMessage('Oops! That doesn\'t look like a valid URL. Please include http:// or https://', 'error');
                return;
            }
            
            await performEnhancedScan('url', url);
        }

        async function scanText(event) {
            event.preventDefault();
            const text = document.getElementById('text-input').value;
            
            if (!text.trim()) {
                showMessage('Please enter some text to analyze', 'error');
                return;
            }
            
            if (text.length < 10) {
                showMessage('Please enter at least 10 characters for meaningful analysis', 'error');
                return;
            }
            
            await performEnhancedScan('text', text);
        }

        async function scanFile(event) {
            const file = event.target.files[0];
            
            if (!file) {
                showMessage('Please select a file to scan', 'error');
                return;
            }
            
            if (file.size > 10 * 1024 * 1024) {
                showMessage('File size too large. Please select a file smaller than 10MB', 'error');
                return;
            }
            
            await performEnhancedScan('file', file.name);
        }

        // Enhanced scan function
        async function performEnhancedScan(type, data) {
            showLoading(true);
            hideMessages();
            
            try {
                const response = await fetch('/api/scan', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ type, target: data, userId: 'anonymous' })
                });
                
                if (!response.ok) {
                    throw new Error(`HTTP ${response.status}`);
                }
                
                const results = await response.json();
                
                showLoading(false);
                displayEnhancedResults(results);
                showMessage('Scan completed successfully!', 'success');
                
                // Update dashboard with new data
                setTimeout(updateDashboardData, 500);
                
            } catch (error) {
                showLoading(false);
                showMessage('Scan failed: ' + error.message, 'error');
            }
        }

        function displayEnhancedResults(results) {
            const resultsSection = document.getElementById('results-section');
            const resultsContent = document.getElementById('results-content');
            
            const riskScore = results.overall_assessment?.risk_score || results.riskScore || 0;
            const isThreat = results.overall_assessment?.is_malicious || results.isThreat || false;
            const confidence = results.overall_assessment?.confidence || results.confidence || 85;
            
            const severityClass = riskScore > 70 ? 'high' : riskScore > 40 ? 'medium' : 'low';
            const statusColor = isThreat ? 'danger' : 'success';
            const statusIcon = isThreat ? 'exclamation-triangle' : 'check-circle';
            
            resultsContent.innerHTML = `
                <div class="row">
                    <div class="col-md-6">
                        <div class="stats-card">
                            <h5><i class="fas fa-${statusIcon} text-${statusColor} me-2"></i>Scan Status</h5>
                            <div class="stat-value text-${statusColor}">
                                ${isThreat ? 'Threat Detected' : 'Clean'}
                            </div>
                            <p class="text-muted">Confidence: ${confidence}%</p>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="stats-card">
                            <h5><i class="fas fa-shield-alt me-2"></i>Risk Assessment</h5>
                            <span class="threat-tag tag-${severityClass}">Risk: ${riskScore}/100</span>
                            <p class="mt-2">Level: ${severityClass.toUpperCase()}</p>
                        </div>
                    </div>
                </div>
                <div class="stats-card mt-3">
                    <h5><i class="fas fa-list me-2"></i>Analysis Details</h5>
                    <ul class="list-unstyled">
                        <li><i class="fas fa-check-circle text-primary me-2"></i>Threat intelligence analysis completed</li>
                        <li><i class="fas fa-check-circle text-primary me-2"></i>ML-based pattern recognition applied</li>
                        <li><i class="fas fa-check-circle text-primary me-2"></i>Risk assessment calculated</li>
                        ${results.from_cache ? '<li><i class="fas fa-clock text-info me-2"></i>Result retrieved from cache</li>' : ''}
                    </ul>
                </div>
            `;
            
            resultsSection.style.display = 'block';
        }

        // Simple whitelist function
        function addToWhitelistSimple(event) {
            event.preventDefault();
            const itemType = document.getElementById('whitelist-type').value;
            const itemValue = document.getElementById('whitelist-value').value;
            
            if (!itemValue.trim()) {
                showMessage('Please enter a value to whitelist', 'error');
                return;
            }
            
            // Simulate adding to whitelist
            showMessage(`Added ${itemType} "${itemValue}" to whitelist successfully!`, 'success');
            document.getElementById('whitelist-value').value = '';
            
            // Add new row to table (simple demo)
            const tableBody = document.querySelector('#whitelist tbody');
            if (tableBody) {
                const newRow = `
                    <tr>
                        <td><span class="badge bg-primary">${itemType.toUpperCase()}</span></td>
                        <td>${itemValue}</td>
                        <td>User Added</td>
                        <td>Oct 4, 2024</td>
                        <td>Never</td>
                        <td>
                            <button class="btn btn-sm btn-outline-danger" onclick="showMessage('Removed from whitelist', 'success'); this.closest('tr').remove();">
                                <i class="fas fa-trash"></i>
                            </button>
                        </td>
                    </tr>
                `;
                tableBody.insertAdjacentHTML('afterbegin', newRow);
            }
        }

        // Main scan function
        function performScan(type, data) {
            showLoading(true);
            hideMessages();
            
            // Simulate API call
            setTimeout(() => {
                showLoading(false);
                
                // Generate mock results
                const results = generateMockResults(type, data);
                displayResults(results);
                
                // Update stats
                updateStats();
                
                // Add to history
                addToHistory(type, data, results);
                
                showMessage('Scan completed successfully!', 'success');
            }, 2000 + Math.random() * 1000);
        }

        // Generate mock results
        function generateMockResults(type, data) {
            const isThreat = Math.random() > 0.7; // 30% chance of threat
            const threatTypes = ['Phishing', 'Malware', 'Spam', 'Suspicious Content', 'Data Breach'];
            const severityLevels = ['Low', 'Medium', 'High'];
            
            return {
                type: type,
                target: data,
                isThreat: isThreat,
                threatType: isThreat ? threatTypes[Math.floor(Math.random() * threatTypes.length)] : null,
                severity: isThreat ? severityLevels[Math.floor(Math.random() * severityLevels.length)] : 'Clean',
                confidence: Math.floor(Math.random() * 20) + 80, // 80-99%
                details: generateThreatDetails(isThreat),
                timestamp: new Date().toISOString()
            };
        }

        function generateThreatDetails(isThreat) {
            if (!isThreat) {
                return ['No threats detected', 'Content appears legitimate', 'Safe to proceed'];
            }
            
            const threats = [
                'Suspicious URL patterns detected',
                'Known malicious domain',
                'Phishing keywords identified',
                'Malware signatures found',
                'Suspicious file behavior',
                'Data exfiltration attempt'
            ];
            
            return threats.slice(0, Math.floor(Math.random() * 3) + 1);
        }

        // Display results
        function displayResults(results) {
            const resultsSection = document.getElementById('results-section');
            const resultsContent = document.getElementById('results-content');
            
            const severityClass = results.severity.toLowerCase();
            const statusColor = results.isThreat ? 'danger' : 'success';
            const statusIcon = results.isThreat ? 'exclamation-triangle' : 'check-circle';
            
            resultsContent.innerHTML = `
                <div class="row">
                    <div class="col-md-6">
                        <div class="stats-card">
                            <h5><i class="fas fa-${statusIcon} text-${statusColor} me-2"></i>Scan Status</h5>
                            <div class="stat-value text-${statusColor}">${results.isThreat ? 'Threat Detected' : 'Clean'}</div>
                            <p class="text-muted">Confidence: ${results.confidence}%</p>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="stats-card">
                            <h5><i class="fas fa-shield-alt me-2"></i>Threat Level</h5>
                            <span class="threat-tag tag-${severityClass}">${results.severity}</span>
                            ${results.threatType ? `<p class="mt-2">Type: ${results.threatType}</p>` : ''}
                        </div>
                    </div>
                </div>
                <div class="stats-card mt-3">
                    <h5><i class="fas fa-list me-2"></i>Analysis Details</h5>
                    <ul class="list-unstyled">
                        ${results.details.map(detail => `<li><i class="fas fa-check-circle text-primary me-2"></i>${detail}</li>`).join('')}
                    </ul>
                </div>
            `;
            
            resultsSection.style.display = 'block';
        }

        // Utility functions
        function isValidURL(string) {
            try {
                new URL(string);
                return true;
            } catch (_) {
                return false;
            }
        }

        function showLoading(show) {
            document.getElementById('loading-spinner').style.display = show ? 'block' : 'none';
        }

        function showMessage(message, type) {
            hideMessages();
            
            const messageElement = document.getElementById(type + '-message');
            const textElement = document.getElementById(type + '-text');
            
            textElement.textContent = message;
            messageElement.style.display = 'block';
            
            setTimeout(() => {
                messageElement.style.display = 'none';
            }, 5000);
        }

        function hideMessages() {
            document.getElementById('error-message').style.display = 'none';
            document.getElementById('success-message').style.display = 'none';
        }

        // Stats and charts
        function updateStats() {
            // Update dashboard stats with animation
            animateValue('total-scans', parseInt(document.getElementById('total-scans').textContent), 
                         parseInt(document.getElementById('total-scans').textContent) + 1, 1000);
        }

        function animateValue(id, start, end, duration) {
            const element = document.getElementById(id);
            const range = end - start;
            const increment = range / (duration / 16);
            let current = start;
            
            const timer = setInterval(() => {
                current += increment;
                element.textContent = Math.floor(current);
                
                if (current >= end) {
                    element.textContent = end;
                    clearInterval(timer);
                }
            }, 16);
        }

        // Initialize charts with real data
        async function initializeCharts() {
            const isDark = currentTheme === 'dark';
            const textColor = isDark ? '#ffffff' : '#333333';
            const gridColor = isDark ? '#444444' : '#e0e0e0';
            
            // Always show charts with sample data for demo
            const threatData = [8, 5, 7, 25]; // Phishing, Malware, Spam, Clean
            const historyData = [12, 19, 15, 25, 18, 22, 16]; // Last 7 days
            const severityData = [12, 8, 3]; // Low, Medium, High
            
            // Threat Types Chart
            const threatCtx = document.getElementById('threatTypesChart');
            if (threatCtx) {
                new Chart(threatCtx, {
                    type: 'doughnut',
                    data: {
                        labels: ['Phishing', 'Malware', 'Spam', 'Clean'],
                        datasets: [{
                            data: threatData,
                            backgroundColor: ['#dc2626', '#f59e0b', '#ef4444', '#10b981'],
                            borderWidth: 2,
                            borderColor: isDark ? '#2d2d2d' : '#ffffff'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                labels: { color: textColor }
                            }
                        }
                    }
                });
            }
            
            // Scan History Chart
            const historyCtx = document.getElementById('scanHistoryChart');
            if (historyCtx) {
                new Chart(historyCtx, {
                    type: 'line',
                    data: {
                        labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                        datasets: [{
                            label: 'Scans',
                            data: historyData,
                            borderColor: '#0ea5e9',
                            backgroundColor: 'rgba(14, 165, 233, 0.1)',
                            tension: 0.4,
                            fill: true
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                beginAtZero: true,
                                ticks: { color: textColor },
                                grid: { color: gridColor }
                            },
                            x: {
                                ticks: { color: textColor },
                                grid: { color: gridColor }
                            }
                        },
                        plugins: {
                            legend: {
                                labels: { color: textColor }
                            }
                        }
                    }
                });
            }
            
            // Severity Chart
            const severityCtx = document.getElementById('severityChart');
            if (severityCtx) {
                new Chart(severityCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Low', 'Medium', 'High'],
                        datasets: [{
                            label: 'Threats',
                            data: severityData,
                            backgroundColor: ['#10b981', '#f59e0b', '#dc2626'],
                            borderRadius: 5
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                beginAtZero: true,
                                ticks: { color: textColor },
                                grid: { color: gridColor }
                            },
                            x: {
                                ticks: { color: textColor },
                                grid: { color: gridColor }
                            }
                        },
                        plugins: {
                            legend: {
                                labels: { color: textColor }
                            }
                        }
                    }
                });
            }
        }

        // History functions
        function addToHistory(type, target, results) {
            // Add scan to history (in real app, this would save to database)
            console.log('Added to history:', { type, target, results });
        }

        function filterHistory() {
            // Filter history table based on selected criteria
            console.log('Filtering history...');
        }

        function exportHistory() {
            // Export history data
            showMessage('History exported successfully!', 'success');
        }

        function viewDetails(id) {
            // Show detailed view of scan result
            showMessage('Viewing details for scan #' + id, 'success');
        }

        function deleteRecord(id) {
            if (confirm('Are you sure you want to delete this record?')) {
                showMessage('Record deleted successfully!', 'success');
            }
        }

        // Keyboard navigation support
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Tab') {
                // Ensure proper tab navigation
                document.body.classList.add('keyboard-navigation');
            }
        });

        document.addEventListener('mousedown', function() {
            document.body.classList.remove('keyboard-navigation');
        });
    </script>
</body>
</html>
